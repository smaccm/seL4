%
% Copyright 2014, General Dynamics C4 Systems
%
% This software may be distributed and modified according to the terms of
% the GNU General Public License version 2. Note that NO WARRANTY is provided.
% See "LICENSE_GPLv2.txt" for details.
%
% @TAG(GD_GPL)
%

\apidoc
{cnode_swaptcbcaller}
{CNode  -  Swap TCB Caller}
{Save the reply capability from the last time the target thread was called in the given CSpace so that it can be invoked or swapped back later. If the provided CPTR points to a reply cap, save this into the target threads reply slot. This can be used to restore a previously saved reply capability.}
{static inline int seL4\_CNode\_SwapTCBCaller}
{
\param{seL4\_CNode}{\_service}{
    CPTR to the CNode at the root of the CSpace where the capability is to be
    swapped. Must be at a depth of 32. Must either be an empty CPTR or reply capability.
}
\param{seL4\_Word}{index}{
    CPTR to the slot in which to swap the capability. Resolved from the root of
    the \_service parameter.
}
\param{uint8\_t}{depth}{
    Number of bits of index to resolve to find the slot being targeted.
}
\param{seL4\_CPtr}{tcb}{
    A capability to the target thread. 
}
}
{\errorenumdesc}
{See \autoref{sec:cnode-ops}.}

